<div>
	<canvas style="display: block; margin: auto; border-style: solid; background-color: #747474;" id="introduce5"></canvas>
</div>

<script type="text/javascript">
	
	$("#introduce5").hide();
	$("#introduce5").fadeIn();

	(function(){
		var c = document.getElementById("introduce5");
		var c_ctx = c.getContext('2d');

		c.width = document.getElementById("descHtml").offsetWidth;
		c.height = canvas.offsetHeight;	

	    c.picture = new Drawable(c, '/resource/img/room.png');
	    c.picture.img.onload = function()
	    {
		    c.picture.setSize(c.width, c.picture.img.height * c.width / c.picture.img.height);
		    c.picture.setPartialDrawSecond(0.5);
		    c.picture.setPosition(0, 0);
		}

		c.btnBgRect = { width : 35, height : 35 };
		c.raiseBtnBgRect = false;
		c.successRaiseBtnBgRect = false;
		c.updateBtnBgRect = function(){
			if(c.raiseBtnBgRect)
			{
				if(c.btnBgRect.width < c.width)
				{
					c.btnBgRect.width += c.width / 10;
					c.btnBgRect.height += c.height / 10;
				}
				else
				{
					c.btnBgRect.width = c.width;
					c.btnBgRect.height = c.height;
					
					c.successRaiseBtnBgRect = true;
				}
			}
			else
			{
				c.successRaiseBtnBgRect = false;

				if(c.btnBgRect.width >= 60)
				{
					c.btnBgRect.width -= c.width / 10;
					c.btnBgRect.height -= c.height / 10;
				}
				else
				{
					c.btnBgRect.width = 35;
					c.btnBgRect.height = 35;	
				}
			}
		}

		c.startLineText = function(){
			var text = '제 방의 작업 환경입니다.\n개인 프로젝트를 할 때는 주로 이 환경에서 작업하고 있습니다.';

			var ctxSetFunc = function(){
				c_ctx.strokeStyle = "rgb(93, 93, 93)";

				c_ctx.font = c.fontSize + 'px DungGeunMo';
      			c_ctx.fillStyle = 'black';
			};

			startLineText(c, text, 0, c.fontSize + c.clickImg.getSize().height, 10, c.fontSize, ctxSetFunc);
		}

		c.drawBtnBgRect = function(){
			
			c_ctx.rect(0, 0, c.btnBgRect.width, c.btnBgRect.height);
			c_ctx.stroke();

			c_ctx.fillStyle = "#FFD8D8";
			c_ctx.globalAlpha = 0.7;
			c_ctx.fillRect(0, 0, c.btnBgRect.width, c.btnBgRect.height);
			c_ctx.globalAlpha = 1;

			c.clickImg.draw();

			if(c.successRaiseBtnBgRect)
			{
				if(!isRunLineText())
				{
					c.startLineText();
				}
				
				drawAllLineText(false);
			}
			else
			{
				stopLineText();
			}
		}

		c.clickImg = new Drawable(c, '/resource/click.png');
		c.clickImg.setPosition(0 ,0);
		c.clickImg.setTouchEvent(function(){
			c.raiseBtnBgRect = !c.raiseBtnBgRect;
		});
 
	    setUpdateFunc(function(dt){
	    	c.fontSize = c.width / 25;

			if(c.width != document.getElementById("descHtml").offsetWidth)
			{
				stopLineText();

				c.width = document.getElementById("descHtml").offsetWidth;

				c.fontSize = c.width / 25;

				c.startLineText();
			}

			var height = c.picture.img.height * c.width / c.picture.img.width;
			c.height = c.picture.img.height * c.width / c.picture.img.width;
			c.picture.setSize(c.width, c.picture.img.height * c.width / c.picture.img.width);

			c.updateBtnBgRect();

			c_ctx.clearRect(0, 0, c.width, c.height);

			for(var i = 0 ; i < c.drawables.length ; ++i)
			{
				c.drawables[i].draw();
			}

			c.drawBtnBgRect();
		});

		c.addEventListener("mouseup", function (e) {
    		var pos = getMouseTouchPos(c, e);

    		for(var i = 0 ; i < c.drawables.length ; ++i)
    		{
    			if(c.drawables[i].isTouched(pos))
    			{
    				c.drawables[i].runTouchEvent();
    			}
    		}

		}, false);
	})();
</script>