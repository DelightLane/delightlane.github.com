<div>
	<canvas style="display: block; margin: auto; border-style: solid; background-color: #747474;" id="introduce3"></canvas>
</div>

<script type="text/javascript">
	$("#introduce3").hide();
	$("#introduce3").fadeIn();

	(function(){
		var c = document.getElementById("introduce3");
		var c_ctx = c.getContext('2d');

		c.width = document.getElementById("descHtml").offsetWidth;
		c.height = canvas.offsetHeight;	

		c.btnSet = new Drawable(c, '');
		c.btnSet.setPosition(0, 0);

		// 버튼들
	    c.statusBtn = new Drawable(c, '/resource/img/profile2_statusBtn.png');
	    c.statusBtn.setParent(c.btnSet);
	    c.statusBtn.setTouchEvent(function(){
	    	c.charImg = new Drawable(c, '/resource/img/charImg.png');
	    	c.charImg.display = 'none';

	    	c.charImg.img.onload = function(){
	    		c.charImg.display = 'block';
			    c.charImg.setPosition(15, 15);
			    c.charImg.setParent(c.descriptBg);
			    c.charImg.setPartialDrawSecond(0.5);

			    c.careerImg = new Drawable(c, '/resource/img/careerImg.png');
			    c.careerImg.setPosition(15, 85);
			    c.careerImg.setParent(c.descriptBg);
			    c.careerImg.setWaitDrawSecond(0.5);
			    c.careerImg.setPartialDrawSecond(0.5);

			    c.featureImg = new Drawable(c, '/resource/img/featureImg.png');
			    c.featureImg.setPosition(15, 150);
			    c.featureImg.setParent(c.descriptBg);
			    c.featureImg.setWaitDrawSecond(1);
			    c.featureImg.setPartialDrawSecond(0.5);
			}
	    });

	    c.skillBtn = new Drawable(c, '/resource/img/profile2_skillBtn.png');
	    c.skillBtn.setParent(c.btnSet);
		c.skillBtn.setTouchEvent(function(){
	    	c.skillImg = new Drawable(c, '/resource/img/skillImg.png');
	    	c.skillImg.display = 'none';
	    	c.skillImg.img.onload = function(){
	    		c.skillImg.display = 'block';
		    	c.skillImg.setPosition(0, 0);
			    c.skillImg.setParent(c.descriptBg);
			    c.skillImg.setPartialDrawSecond(1);
			    c.skillImg.setPartialDrawDirectReverse(true);
			}
	    });

	    c.toolBtn = new Drawable(c, '/resource/img/profile2_toolBtn.png');
	    c.toolBtn.setParent(c.btnSet);
	    c.toolBtn.setTouchEvent(function(){
	    	c.toolTitle = new Drawable(c, '/resource/img/toolTitle.png');
	    	c.toolTitle.display = 'none';
	    	c.toolTitle.img.onload = function(){
	    		c.toolTitle.display = 'block';
	    		c.toolTitle.setPosition(25, 17);
			    c.toolTitle.setParent(c.descriptBg);
			    c.toolTitle.setPartialDrawSecond(0.5);
			    c.toolTitle.setPartialDrawDirectReverse(true);


	    		c.androidImg = new Drawable(c, '/resource/img/androidImg.png');
		    	c.androidImg.setPosition(10, 28);
			    c.androidImg.setParent(c.descriptBg);
			    c.androidImg.setPartialDrawSecond(0.5);

			    c.appleImg = new Drawable(c, '/resource/img/appleImg.png');
		    	c.appleImg.setPosition(79, 28);
			    c.appleImg.setParent(c.descriptBg);
			    c.appleImg.setPartialDrawSecond(0.5);

			    c.xamarinImg = new Drawable(c, '/resource/img/xamarinImg.png');
		    	c.xamarinImg.setPosition(10, 92);
			    c.xamarinImg.setParent(c.descriptBg);
			    c.xamarinImg.setPartialDrawSecond(0.5);

			    c.unityImg = new Drawable(c, '/resource/img/unityImg.png');
		    	c.unityImg.setPosition(79, 92);
			    c.unityImg.setParent(c.descriptBg);
			    c.unityImg.setPartialDrawSecond(0.5);

			    c.cocosImg = new Drawable(c, '/resource/img/cocosImg.png');
		    	c.cocosImg.setPosition(10, 156);
			    c.cocosImg.setParent(c.descriptBg);
			    c.cocosImg.setPartialDrawSecond(0.5);

			    c.coronaImg = new Drawable(c, '/resource/img/coronaImg.png');
		    	c.coronaImg.setPosition(79, 156);
			    c.coronaImg.setParent(c.descriptBg);
			    c.coronaImg.setPartialDrawSecond(0.5);
			}
	    });

	    c.passiveBtn = new Drawable(c, '/resource/img/profile2_passiveBtn.png');
	    c.passiveBtn.setParent(c.btnSet);
	    c.passiveBtn.setTouchEvent(function(){
	    	c.passiveTitle = new Drawable(c, '/resource/img/passiveTitle.png');
	    	c.passiveTitle.display = 'none';
	    	c.passiveTitle.img.onload = function(){
	    		c.passiveTitle.display = 'block';
	    		c.passiveTitle.setPosition(25, 17);
			    c.passiveTitle.setParent(c.descriptBg);
			    c.passiveTitle.setPartialDrawSecond(0.5);
			    c.passiveTitle.setPartialDrawDirectReverse(true);


	    		c.readwriteImg = new Drawable(c, '/resource/img/readwriteImg.png');
		    	c.readwriteImg.setPosition(10, 30);
			    c.readwriteImg.setParent(c.descriptBg);
			    c.readwriteImg.setPartialDrawSecond(0.5);

			    c.drawingImg = new Drawable(c, '/resource/img/drawingImg.png');
		    	c.drawingImg.setPosition(79, 70);
			    c.drawingImg.setParent(c.descriptBg);
			    c.drawingImg.setPartialDrawSecond(0.5);
			    c.drawingImg.setWaitDrawSecond(0.5);

			    c.guitarImg = new Drawable(c, '/resource/img/guitarImg.png');
		    	c.guitarImg.setPosition(10, 110);
			    c.guitarImg.setParent(c.descriptBg);
			    c.guitarImg.setPartialDrawSecond(0.5);
			    c.guitarImg.setWaitDrawSecond(1);

			    c.musicImg = new Drawable(c, '/resource/img/musicImg.png');
		    	c.musicImg.setPosition(79, 150);
			    c.musicImg.setParent(c.descriptBg);
			    c.musicImg.setPartialDrawSecond(0.5);
			    c.musicImg.setWaitDrawSecond(1.5);
			}
	    });

	    var margin = 15;
	    c.statusBtn.img.onload = function(){
    		var btnSize = c.statusBtn.getSize();

			c.statusBtn.setPosition(margin, margin);
			c.skillBtn.setPosition(margin * 2 + btnSize.width,
									margin);
			c.toolBtn.setPosition(margin,
									margin * 2 + btnSize.height);
			c.passiveBtn.setPosition(margin * 2 + btnSize.width,
			 						margin * 2 + btnSize.height);

			c.btnSet.setSize(margin * 2 + btnSize.width * 2, margin * 2 + btnSize.height * 2);
		}

	    // 타이틀 이미지
	    c.titleImg = new Drawable(c, '/resource/img/profile2_title.png');
	    // 캐릭터 이미지
	    c.characterImg = new Drawable(c, '/resource/img/profile2_0.png');
	    // 설명란 이미지
	    c.descriptBg = new Drawable(c, '/resource/img/profile2_1.png');


	    c.statusBtn.runTouchEvent();


	    var recalcPosition = function(){
	    	var btnSize = c.statusBtn.getSize();

			c.titleImg.setPosition(margin, margin * 3 + btnSize.height * 2);

			var charSize = c.characterImg.getSize();
			var descSize = c.descriptBg.getSize();
			
			c.characterImg.pos.x = btnSize.width * 2 + margin * 3 + 30;
			c.characterImg.pos.y = margin + charSize.height / 2;

			c.descriptBg.pos.x = c.characterImg.pos.x + charSize.width + 50;
			c.descriptBg.pos.y = margin;

			c.btnSet.pos.x = 0;

			var height = canvas.offsetHeight;

			if(c.width < c.descriptBg.pos.x + descSize.width){
				

				//c.descriptBg.pos.x = c.btnSet.width + margin;
			}

			if(c.width < c.descriptBg.pos.x + descSize.width){
				var centerMargin = c.width / 10;
				if(centerMargin < 38)
				{
					centerMargin = 0;
				}

				c.titleImg.pos.x = c.width / 2 - c.titleImg.getSize().width - centerMargin;

				c.characterImg.pos.x = c.width / 2 - c.characterImg.getSize().width - centerMargin;
				c.characterImg.pos.y = 250;

				c.btnSet.pos.x = c.width / 2 - c.btnSet.getSize().width - centerMargin * 0.5;
				if(c.btnSet.pos.x < 0)
				{
					c.btnSet.pos.x = 0;
				}

				c.descriptBg.pos.x = c.width / 2 + centerMargin;
				if(c.descriptBg.pos.x < c.btnSet.getSize().width)
				{
					c.descriptBg.pos.x = c.btnSet.getSize().width;
				}

				if(descSize.width + c.btnSet.getSize().width > c.width)
				{
					c.btnSet.pos.x = c.width / 2 - c.btnSet.getSize().width / 2;
					c.descriptBg.pos.x = c.width / 2 - descSize.width / 2;
					c.descriptBg.pos.y = c.characterImg.pos.y + charSize.height + margin;

					c.titleImg.pos.x = c.width / 2 - c.titleImg.getSize().width / 2;
					c.characterImg.pos.x = c.width / 2 - charSize.width / 2;

					height += descSize.height;
				}

				height += charSize.height;
			}

			if(c.height != height)
			{
				c.height = height;
			}
	    }
 
	    setUpdateFunc(function(dt){
			if(c.width != document.getElementById("descHtml").offsetWidth)
			{
				c.width = document.getElementById("descHtml").offsetWidth;
			}

			c_ctx.clearRect(0, 0, c.width, c.height);

			recalcPosition();

			for(var i = 0 ; i < c.drawables.length ; ++i)
			{
				c.drawables[i].draw();
			}
		});

		c.addEventListener("mouseup", function (e) {
    		var pos = getMouseTouchPos(c, e);

    		for(var i = 0 ; i < c.drawables.length ; ++i)
    		{
    			if(c.drawables[i].isTouched(pos))
    			{
    				if(c.drawables[i].hasTouchEvent())
    				{
    					if(c.drawables[i].parent == null)
    					{
							Drawable.removeHasParentElem(c);
						}
    				}

    				c.drawables[i].runTouchEvent();
    			}
    		}

		}, false);
	})();
</script>