---
layout: post
title:  "[CoronaSDK] 블록 어태커 개발 일지"
date:   2018-12-03
tags: [work, blockAttacker]
---

## 시작 글

  몇 주간 정말 험난한 시간을 보냈다.

  별 것 아닌 작업이라고 생각했던 것이 내 삶을 야금 야금 좀먹고는 습관마저 우그러뜨리고 떠나버렸다.

  습관은 참, 만들기도 유지하기도 어려운데 망가뜨리기는 참 쉬운 것이 마치 내가 쌓고 있는 모래성으로 비유하면 좋을 것 같다. 그 과정에서 성취감을 얻을 수 있다는 점도 똑 닮아 있다.

  그러니 다시 차근 차근 모래성부터 다시 잘 쌓도록 해봐야겠지.

<br>

## 작업

![screenshot]({{ site.url }}/resource/post/blockAttacker/181203_history.png)
<br>
<small>이번주 작업 분량</small>
<br>

  이번주 작업은 예열 기간이라 더더욱 별로 이야기할 거리가 없다.

<br>
<h4> 1. 개략적인 스크립트 퇴고 완료</h4>

  정말 조약하고 어설프지만 그래도 지금까지 진행한 스토리가 있으니까, 바꾼 형식(그러니까 나레이션 + 대사의 형태로 너무 대사에 힘을 많이 준 부분을 분산시켜 보기로 했었다.)에 맞춰 퇴고가 필요했다. 정말 꾸역꾸역 퇴고해 나갔는데, 그야말로 소설을 쓰는 것과 많은 부분이 닮았었다. 쓰면 쓸수록 피로해지는 뇌의 주름들이 마치 손에 닿을 듯이 뚜렷했다.

  그래도 역시 퇴고를 거치고 나니, 확실히 이번 방향이 이전의 방향보다는 나은 방향이다.

  뭔가, 소설인지 RPG인지 애매한 장르가 되어가는 느낌이지만.
  
<br>
<h4> 2. 전투 이벤트 사용성 수정</h4>

  전투 부분에 버그가 많다..

  일단 시작은 전투 이벤트 승리 / 패배 이벤트를 설정하는 데 놓칠 만한 거리가 많다는 점을 인지한 데서부터.

  승리 / 패배의 조건을 무조건 전투 이벤트 다음 이벤트로 설정해 줘야 하고 그러지 않으면 승리든 패배든 다음 이벤트로 넘어가 버린다는 점이 불편했다.

  일단 다음 이벤트에서 승리 / 패배의 이벤트를 처리하니 가독성이 좋지 않았다. 전투 이벤트와 연관되어 있다는 느낌이 없었으니까. 그래서 그냥 전투 이벤트 호출 시에 콜백 함수로 처리할 수 있도록 인터페이스를 정리했다.

  그리고 가만히 테스트를 하고 있자니 패배 후의 이벤트가 이번엔 말썽이다.

  이전에 약식으로 만들어둔 패배 후의 플롯은 '게임 오버 씬 -> 위치 한 칸 롤백' 인데 위치를 무조건 롤백만 시키자니 이전 이벤트에서 Spawn 시킨 NPC들 등, 이미 활성화된 이벤트들에 대한 처리가 없다. 그리고 이벤트 종료 조건도 일일이 확인해서 체크해야 하니.. 번거롭기 그지 없다.

  아무튼 버그니까, 수정은 해야겠고. 완전 이벤트 꾸러미 자체를 롤백시키는 것이 아니라 전투 바로 이전 이벤트까지만 롤백시키는 방향으로 수정했다.

  일단 동작은 하는데.. 일단은..

  과연 옳은 방향인지는 고민이 필요하다.
  
<br>

## 맺음 글

  예열 기간이니까 개발 일지도 예열 기간에 걸맞는 길이로.

  일요일을 넘겨서 쓰는 이유는, 어제 출근한 것에 대한 보상심리로 자기 전까지 열심히 게임했기 때문이다. ㅋㅋ

  자, 다시 타자를 두들겨 보자.